<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>El Impostor</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
/* =====================================================
   VARIABLES
===================================================== */
:root{
  --energy-cyan:#00f6ff;
  --energy-blue:#2272ff;
  --energy-pink:#ff2fd6;
  --energy-red:#ff2a2a;
}

/* =====================================================
   BARRA DE ENERGÍA CYBERPUNK
===================================================== */
.bar-outer{
  width:100%;
  height:16px;
  background:rgba(0,0,0,.25);
  border-radius:999px;
  overflow:hidden;
  position:relative;
  box-shadow:
    inset 0 0 8px rgba(0,0,0,.6),
    0 0 12px rgba(0,246,255,.25);
}

/* Glow base */
.bar-outer::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  box-shadow:0 0 20px var(--energy-cyan);
  opacity:.15;
  pointer-events:none;
}

/* Láser */
.bar-inner{
  height:100%;
  width:100%;
  border-radius:999px;
  background:
    linear-gradient(
      120deg,
      var(--energy-cyan),
      var(--energy-blue),
      var(--energy-pink),
      var(--energy-cyan)
    );
  background-size:300% 100%;
  animation:energyFlow 2s linear infinite;
  position:relative;
  transition:
    width .1s linear,
    box-shadow .2s ease,
    filter .2s ease;
  box-shadow:
    0 0 12px var(--energy-cyan),
    0 0 25px rgba(0,246,255,.6);
}

/* Núcleo brillante */
.bar-inner::before{
  content:"";
  position:absolute;
  inset:2px;
  border-radius:inherit;
  background:rgba(255,255,255,.25);
  filter:blur(6px);
  opacity:.7;
}

/* Animación del gradiente */
@keyframes energyFlow{
  from{background-position:0% 50%;}
  to{background-position:300% 50%;}
}

/* =====================================================
   ESTADOS DE PELIGRO (POCO TIEMPO)
===================================================== */
.bar-inner.low{
  background:
    linear-gradient(
      120deg,
      #ffb300,
      #ff6a00,
      var(--energy-red)
    );
  background-size:300% 100%;
  box-shadow:
    0 0 18px #ff6a00,
    0 0 35px rgba(255,42,42,.9);
  filter:saturate(1.4);
}

.bar-inner.critical{
  animation:
    energyFlow 1s linear infinite,
    dangerPulse .6s ease-in-out infinite;
  box-shadow:
    0 0 25px var(--energy-red),
    0 0 60px rgba(255,42,42,1);
}

@keyframes dangerPulse{
  0%{transform:scaleX(1);}
  50%{transform:scaleX(.97);}
  100%{transform:scaleX(1);}
}
</style>
</head>

<body>

<!-- ===== SOLO PARA CONTEXTO: tu layout ya existente ===== -->
<div class="timer-wrap">
  <div class="timer-number" id="timerNumber">60</div>
  <div class="bar-outer">
    <div id="timerBar" class="bar-inner"></div>
  </div>
</div>

<script>
/* =====================================================
   LÓGICA DE ENERGÍA (REEMPLAZA SOLO ESTA FUNCIÓN)
===================================================== */

let duracion = 60;

function actualizarTimerUI(segundos){
  const bar = document.getElementById('timerBar');
  document.getElementById('timerNumber').innerText = Math.ceil(segundos);

  const pct = Math.max(0, Math.min(1, segundos / duracion));
  bar.style.width = (pct * 100) + "%";

  // Estados visuales
  bar.classList.remove('low','critical');

  if(pct <= 0.35 && pct > 0.15){
    bar.classList.add('low');
  }
  if(pct <= 0.15){
    bar.classList.add('critical');
  }
}
</script>

</body>
</html>